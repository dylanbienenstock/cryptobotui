<div class="overlay" [class.loading]="loading"></div>

<ng-container *ngIf="!loading && visible">
    <div class="bar"
    [class.working]="working"
    [class.flash]="working && _interface.flash"
    [class.animate]="animate">
        <ng-container *ngIf="!empty; else emptyBar">
            <div class="progress"
            [style.width.%]="progress * 100"
            [style.background]="'hsl(' + (progress * 128) + ', 100%, 50%)'">
            </div>
    
            <div class="indicator" *ngIf="working"
            [style.border-color]="'hsl(' + (progress * 128) + ', 100%, 50%)'">
            </div>
        </ng-container>
    
        <ng-template #emptyBar>
            <div class="progress"></div>
        </ng-template>
    </div>
    
    <div class="text">
        <ng-content></ng-content>
    </div>
</ng-container>
